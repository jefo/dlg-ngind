# Контекст проекта: `bot-ui`

## 1. Общее описание

**`bot-ui`** — это ограниченный контекст (Bounded Context), отвечающий за **визуальное представление диалоговых интерфейсов** в чат-ботах. Он определяет, как будет выглядеть интерфейс бота и как пользователь будет с ним взаимодействовать.

Контекст представляет собой "UI-кит" или "движок рендеринга", который позволяет создавать богатые интерфейсы для диалоговых систем независимо от платформы (Telegram, Slack, Web и т.д.).

## 2. Бизнес-ценность

### Основные функции контекста:

1. **Библиотека компонентов интерфейса** — Единый источник правды о том, из каких элементов может состоять интерфейс бота:
   - Сообщения (Messages) с различными стилями
   - Кнопки действий (Buttons) 
   - Карточки с информацией (Cards)
   - Галереи изображений (Carousels)
   - И другие UI-элементы

2. **Компоновка интерфейсов (Views)** — Возможность создавать сложные экраны, комбинируя компоненты в различные layout'ы:
   - Вертикальные и горизонтальные списки
   - Сетки элементов
   - Комбинированные представления

3. **Движок персонализации** — Механизм подстановки персональных данных пользователя в шаблоны интерфейса:
   - Персонализация приветствий
   - Динамическое отображение информации
   - Адаптация интерфейса под контекст диалога

4. **Платформо-независимый рендеринг** — Подготовка универсального описания интерфейса, которое затем может быть адаптировано под любую платформу.

## 3. Взаимодействие с другими контекстами

### Входящие зависимости:
- **`bot-persona`** — Запрашивает рендеринг интерфейсов для отображения ответов бота пользователю

### Исходящие зависимости:
- **Презентеры платформ** — Получают универсальное описание интерфейса и адаптируют его под конкретные платформы (Telegram, Slack, Web)

## 4. Архитектурный подход

Контекст разработан в соответствии с принципами **Domain-Driven Design** и **Гексагональной ахитектуры**:

### Доменная модель:
- **Компоненты** — Атомарные элементы интерфейса (Value Objects)
- **Представления** — Композитные структуры, определяющие компоновку интерфейса (Aggregates)

### Поток управления:
1. Внешний контекст запрашивает рендеринг представления
2. Контекст получает шаблон и данные для персонализации
3. Движок рендеринга гидратирует шаблон актуальными данными
4. Результат возвращается в виде универсального описания интерфейса

## 5. Преимущества подхода

### Для бизнеса:
- **Гибкость интерфейсов** — Возможность быстро создавать и модифицировать интерфейсы ботов
- **Консистентность** — Единый подход к построению интерфейсов во всех каналах
- **Персонализация** — Автоматическая адаптация интерфейсов под пользователей

### Для разработки:
- **Тестируемость** — Все бизнес-правила изолированы и покрыты тестами
- **Расширяемость** — Простое добавление новых типов компонентов и layout'ов
- **Поддерживаемость** — Четкое разделение ответственности между слоями